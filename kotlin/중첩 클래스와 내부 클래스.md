# 중첩 클래스와 내부 클래스

직접 구현한 클래스가 아닌 분리된 클래스를 가지고 있는 것에는 각각 장/단점이 있다.

장점은 하나의 인터스턴스에 여러개의 분리된 클래스를 가질 수 있다.

예를 들어 리모컨이 하나일 경우 리모컨을 가지고 있는 사람을 방해하고 TV를 제어 해달라고 요청해야 하는 반면 리모컨이 여러 개 있다면 각각의 사람들이 리모트 근처에 있는 사람을 방해하지 않고 TV 를 컨트롤 할 수 있기 때문에 연결관계를 아낄 수 있다는 점이다.

둘째로 리모컨을 TV 상태와 분리된 채로 내부 상태를 가질 수 있다. 예를 들어 어두운 곳에서 TV 중 하나를 사용하려는 사람이 있다면 어두운 고셍서 사용하기 편하도록 백라이트를 켜는 것이 가능하다.

분리된 클래스에서 인터페이스를 구현하는 것엔 단점이 있다.

리모컨 인터페이스를 구현하고 있는 TV리모컨 메소드들은 TV의 Public 메소드로 사용해야만 한다. 만일 TV가 리모컨 인터페이스를 구현하고 있다면 public 메소드에 의존할 필요가 없어진다.

직접 구현하면 내부에서만 볼 수 있는 내부를 효율적으로 사용할 수 있게 해준다.

 TV 인스턴르를 TV리모컨 생성자에 전달하는 대신 TV에 인터페이스를 직접 구현하면 TV리모컨 내부에서 TV의 참조를 추가로 가지고 있을 필요도 없다.

장점을 유지하며 단점을 피할 수 있는 디자인 옵션이 있다. 

내부클래스를 사용하면 효율성 저하를 피하면서 분리된 클래스를 사용하는 이점을 얻을 수 있다.

코틀린의 클래스는 다른 클래스에 첩 될 수 있다. 중첩 클래스는 외부 클래스의 private 멤버에 접근할 수 없지만 ineer 키워드를 사용한다면 내부 클래스로 변하면서 제약이 사라진다.

!! super@Outer 문법은 자주 사용하면 안 된다. 

다향성의 의미와 메소드 오버라이드의 의도를 저버리고 클래스의 베이스 클래스로 바이패스를 해주기 때문에 오류가 많아진다.

중첩 클래스나 내부 클래스에 특별한 상태가 필요하다면 외부 클래스에서 하듯 속성을 생성하면 된다.

클래스 안에 내부 클래스를 생성하는 대신 메소드 안에서 익명 내부클래스르 생성할 수 있다.